# 제목

## 제목
이미지 ![이미지](/assets/pics/첫화면.png)

def checkState(startpos,endpos):
 if startpos[0]==endpos[0]:
  return 'h' #horizental
 elif startpos[1]==endpos[1]:
  return 'v'#vertical
 else:
  return 'd'#diagnal

def checkPlace(x,y): #해당 좌표가 비어있으면 True, 벽이거나 없다면 False
 if x<n and y<n:
  if house[x][y]==0:
   return True
  else:
   return False
 else:
  return False 

def moveableWay(startpos,endpos):
 result=[]
 if checkState(startpos,endpos)=='v': #세로
  if checkPlace(endpos[0]+1,endpos[1]): #(0,1) -> (1,1) 조사
   result.append('v')
  if checkPlace(endpos[0]+1,endpos[1]+1) and checkPlace(endpos[0]+1,endpos[1]) and checkPlace(endpos[0],endpos[1]+1): #(0,1) -> (1,2), (1,1), (0,2) 조사
   result.append('d')
 elif checkState(startpos,endpos)=='h': #가로
  if checkPlace(endpos[0],endpos[1]+1): #(0,1) -> (0,2) 조사
   result.append('h')
  if checkPlace(endpos[0]+1,endpos[1]+1) and checkPlace(endpos[0]+1,endpos[1]) and checkPlace(endpos[0],endpos[1]+1): #(0,1) -> (1,2), (1,1), (0,2) 조사
   result.append('d') 
 elif checkState(startpos,endpos)=='d': #대각
  if checkPlace(endpos[0]+1,endpos[1]): #(0,1) -> (1,1) 조사
   result.append('v')
  if checkPlace(endpos[0],endpos[1]+1): #(0,1) -> (0.2) 조사
   result.append('h')
  if checkPlace(endpos[0]+1,endpos[1]+1) and checkPlace(endpos[0]+1,endpos[1]) and checkPlace(endpos[0],endpos[1]+1) : #(0,1) -> (1,2), (1,1), (0,2) 조사
   result.append('d')
 return result

#main

n = int(input())
house = [[0] for _ in range(n)]

for i in range(n):    
 house[i] = list(map(int, input().split()))

'''
ex)
3
0 0 0 ([0,0],[0,1],[0,2])
0 0 0 ([1,0],[1,1],[1,2])
0 0 0 ([2,0],[2,1],[2,2])
'''

#print(house)

#startpos=[0,0]
#endpos=[0,1]
case=[[[0,0],[0,1]]] #(startpos,endpos) 
result=[]
#print(moveableWay())

while(True):
 temp=[]
 if len(case)==0:
  break
 for c in case: #case 에서 [[0,0],[0,1]]
  spos=c[0] #spos = [0,0]
  epos=c[1] #epos = [0,1]
  if len(moveableWay(spos,epos)): #움직일 수 있다면
   way = moveableWay(spos,epos) #예시에서 'h', 'd'
   for w in way:
    tepos=epos[:]
    tspos=spos[:]
    if w=='h': #이동시키기 [[0,0],[0,1]] -> [[0,1],[0,2]]
     tspos=tepos[:]
     tepos[1]+=1
     temp.append([tspos,tepos]) #저장
    elif w=='v': #이동시키기 [0,0],[1,0] -> [1,0],[2,0] 
     tspos=tepos[:]
     tepos[0]+=1
     temp.append([tspos,tepos])
    elif w=='d': #이동시키기 [0,0],[0,1] -> [0,1],[1,2]
     tspos=tepos[:]
     tepos[0]+=1
     tepos[1]+=1
     temp.append([tspos,tepos])
  if epos[0]==n-1 and epos[1]==n-1: #도달했다면
   result.append(True)
   case.remove(c)
  else:
   case.remove(c)
 case+=temp
  #print(case)

print(len(result))

